# å¾®ä¿¡å‘é€è‡ªåŠ¨æš–ä¿¡æ¯

<a name="df368884"></a>
## å‰è¨€

> æ¯ä¸ªéƒ½æ˜¯ä¸ºå…¬å¸çš„åº”ç”¨å†™è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ï¼Œæ²¡æ›¾æŠŠè¿™äº›è‡ªåŠ¨åŒ–åº”ç”¨åˆ°ç”Ÿæ´»ä¸­ï¼Œç›´åˆ°é€›ç¤¾åŒºçœ‹åˆ° [ç”¨Node+wechatyå†™ä¸€ä¸ªçˆ¬è™«è„šæœ¬æ¯å¤©å®šæ—¶ç»™å¥³(ç”·)æœ‹å‹å‘å¾®ä¿¡æš–å¿ƒè¯](https://juejin.im/post/5c77c6bef265da2de6611cff) å‘ç°è¿˜æœ‰å¦‚æ­¤å¥½ç©çš„äº‹æƒ…ã€‚äºæ˜¯èµç©äº†ä¸€æŠŠï¼Œè§‰å¾—è¿˜å¯ä»¥æœ‰æ›´ç¾å¥½çš„å®ç°æ–¹å¼ã€‚


ä¸Šé¢çš„è„šæœ¬è¿˜è¦è¿›è¡Œæ‰«ç ç™»å½•çš„æ“ä½œï¼Œå¯¹äºç»å¸¸å†™è‡ªåŠ¨åŒ–è„šæœ¬çš„æˆ‘ä»¬æœ€å¥½æ˜¯ä¸€åŠ³æ°¸é€¸çš„ã€‚æ‰€ä»¥è¿™æ¬¡æˆ‘çš„è„šæœ¬ï¼šåªéœ€ä¸€æ¬¡ç™»å½•ã€‚ğŸ˜

ä¸‹é¢è¨€å½’æ­£ä¼ 

<a name="424a2ad8"></a>
## å‡†å¤‡

* ä¸€å°Windowsæ“ä½œç³»ç»Ÿã€‚
* åœ¨Windowsä¸Šå®‰è£…å¾®ä¿¡å®¢æˆ·ç«¯ã€‚
* åœ¨Windowsä¸Šå®‰è£…[CukeTest](http://cuketest.com)

è¿™é‡Œè¯´æ˜ä¸€ä¸‹ä¸ºå•¥æˆ‘è¦ç”¨CukeTestï¼Ÿ

> å› ä¸ºCukeTestæ˜¯ä¸€æ¬¾ä¸“é—¨ç”¨æ¥åšè‡ªåŠ¨åŒ–æµ‹è¯•çš„å·¥å…·ï¼Œæˆ‘ç»å¸¸ç”¨å®ƒæ¥å¼€å‘Windows,Web,Mobile,Apiç­‰è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ã€‚ æœ¬æ¬¡æˆ‘ä¸»è¦æ˜¯æƒ³ç”¨å®ƒæ¥è‡ªåŠ¨åŒ–æ“ä½œWindowsç‰ˆå¾®ä¿¡ï¼Œä½ åœ¨Windowsä¸Šç™»å½•å¾®ä¿¡åï¼Œä¸ç”¨ç®¡å®ƒï¼Œå®ƒä¼šä¸€ç›´åœ¨çº¿ï¼Œåªè¦ä¸ç®¡ç”µè„‘ï¼Œå¾®ä¿¡å¯ä»¥éšæ—¶åœ¨çº¿ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæ‰çº¿äº†ã€‚


Pcä¸Šå®‰è£…å¥½å¾®ä¿¡å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬æ‰‹åŠ¨ç™»å½•ä¸€ä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿å¿«é€Ÿçš„è®©è‡ªåŠ¨åŒ–è„šæœ¬æ‰¾åˆ°ä½ çš„å“ªä¸ªå¥¹(æˆ–ä»–)ï¼Œå¯ä»¥äº‹å…ˆæŠŠå¥¹ï¼ˆæˆ–ä»–ï¼‰çš„å¾®ä¿¡ç½®é¡¶ã€‚

<a name="3142e69c"></a>
## æš–å¿ƒå†…å®¹æ¥æº

å’Œä¸Šé¢çš„å¤§ä½¬ä¸€æ ·ä¹Ÿæ˜¯æ¯æ—¥ä¸€å¥æ¥è‡ª[one](http://wufazhuce.com/)

å¤©æ°”ä¿¡æ¯æ¥è‡ª[å¢¨è¿¹å¤©æ°”](http://tianqi.moji.com/)

<a name="6d88b4cd"></a>
## ä½¿ç”¨åº“

* [chromedriver](https://www.npmjs.com/package/chromedriver)
* [selenium-webdriver](https://www.npmjs.com/package/selenium-webdriver)
* [moment](https://www.npmjs.com/package/moment)

è¿™äº›åº“å¤§å®¶å¦‚æœç»å¸¸å†™è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œåº”è¯¥å¾ˆç†Ÿæ‚‰ã€‚chromedriver chromeæµè§ˆå™¨çš„é©±åŠ¨ï¼Œ selenium-webdriver webè‡ªåŠ¨åŒ–åº“ã€‚<br />æˆ‘è„šæœ¬çš„åŸç†æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯æŠŠå¹³æ—¶æˆ‘ä»¬æ‰‹å·¥æ“ä½œçš„æ­¥éª¤è½¬åŒ–ä¸ºè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œè‡ªåŠ¨æ‰“å¼€chromeæµè§ˆå™¨ï¼Œå»oneå’Œå¢¨è¿¹å¤©æ°”é¡µé¢ä¸Šæå–ä¿¡æ¯ã€‚<br />å› ä¸ºCukeTestå†…ç½®çš„æœ‰å¯¹Windowsæ§ä»¶çš„æ“ä½œï¼Œç”¨CukeTestç›´æ¥å»è‡ªåŠ¨æ“ä½œå¾®ä¿¡ï¼ŒæŠŠä¸Šé¢æå–å‡ºæ¥çš„ä¿¡æ¯å‘é€å‡ºå»å³å¯ã€‚

<a name="4c763bb6"></a>
## è¿è¡Œ

```
git clone 
cd auto_wechat
npm install
```

ä½¿ç”¨CukeTest æ‰“å¼€é¡¹ç›®ï¼Œç‚¹å‡»è¿è¡Œå°±å¯ä»¥çœ‹åˆ°è¿è¡Œæ•ˆæœã€‚
<a name="d41d8cd9"></a>
#### 
<a name="df9a0c32"></a>
## ä¸»è¦ä»£ç ç‰‡æ®µ
<a name="04c216b0"></a>
### 1.ç¼–è¾‘ä¸€ä¸ªæ•…äº‹åœºæ™¯

![image.png](https://cdn.nlark.com/yuque/0/2019/png/87080/1551931419013-238c46f0-cbbb-4afb-93d0-12e281f52d00.png#align=left&display=inline&height=479&name=image.png&originHeight=479&originWidth=569&size=33657&status=done&width=569)

<a name="af545979"></a>
### 2.è·å–ä¿¡æ¯
è·å–OneÂ 

```javascript
await driver.get(url);
let css_selector = '.fp-one-cita-wrapper>.fp-one-cita > a'; //å…ƒç´ å®šä½
let text = await driver.findElement({css:css_selector}).getText();
this.oneText = text;
```
è·å–å¤©æ°”

```javascript
await driver.get(url);
let current_tm = await driver.findElement({ css:'div.wea_weather.clearfix > em'}).getText();
let current_state = await driver.findElement({ css:'.wea_weather.clearfix > b'}).getText();
let wea_tips = await driver.findElement({ css:'.wea_tips.clearfix > em'}).getText();
let current_about = await driver.findElement({ css:'.wea_about.clearfix'}).getText();
this.today_wea = `
æ¸©åº¦:${current_tm}Â°
å¤©æ°”:${current_state}
${current_about}
${wea_tips}
`
});
```
<a name="4b436f33"></a>
### 3.å¾®ä¿¡ç•Œé¢æ“ä½œ
æ“ä½œå¾®ä¿¡ç•Œé¢éœ€è¦åœ¨CukeTestä¸­æ·»åŠ è™šæ‹Ÿæ§ä»¶ã€‚<br />
![addvirtualimage.gif](https://cdn.nlark.com/yuque/0/2019/gif/87080/1551946590971-e624c499-9876-4a36-9901-4a3c9cb70c0d.gif#align=left&display=inline&height=524&name=addvirtualimage.gif&originHeight=728&originWidth=1036&size=699587&status=done&width=746)

æ·»åŠ å®Œè™šæ‹Ÿæ§ä»¶ï¼Œè°ƒç”¨CukeTestæä¾›çš„APIå³å¯ã€‚æ¨¡å‹ç®¡ç†å™¨ä¸­å¯ä»¥çœ‹åˆ°ã€‚<br />
![image.png](https://cdn.nlark.com/yuque/0/2019/png/87080/1551946746043-99e24705-a30e-4901-a11b-93d45a4cb043.png#align=left&display=inline&height=604&name=image.png&originHeight=604&originWidth=749&size=43939&status=done&width=749)

å¤åˆ¶æˆ–æ‹–æ‹½ç›¸å…³çš„æ–¹æ³•åˆ°ä»£ç ç¼–è¾‘å™¨ä¸­å³å¯ã€‚

<a name="4704949b"></a>
### 4.è¿è¡Œ

![runproject.gif](https://cdn.nlark.com/yuque/0/2019/gif/87080/1551947910373-82c51e42-e19c-4399-ade7-ed801acd6d4f.gif#align=left&display=inline&height=398&name=runproject.gif&originHeight=728&originWidth=1366&size=1595732&status=done&width=746)
